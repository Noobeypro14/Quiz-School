<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="nooblogo.png">
  <title>Noobie's Pre-Exam | CBT</title>
  <style>
    :root {
      --bg: #000000;
      --card: #1A1A1A;
      --accent: #FFD700;
      --muted: #888888;
      --good: #00c853;
      --ok: #ffd54f;
      --bad: #ff5252;
      --text-light: #F0F0F0;
      --glass: rgba(255,255,255,0.03);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #151515, #000000);
      color: var(--text-light);
      padding: 24px;
      min-height: 100vh;
    }

    header { text-align: center; margin-bottom: 20px; }
    h1 {
      margin: 0;
      font-size: 28px;
      color: var(--accent);
      text-shadow: 0 2px 8px rgba(255, 215, 0, 0.25);
    }
    .meta { color: var(--muted); margin-top: 8px; font-size: 14px; }

    main { max-width: 980px; margin: 18px auto; }

    .quiz-card {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      margin: 14px 0;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      border: 1px solid rgba(255, 215, 0, 0.06);
    }

    .qrow { display: flex; gap: 14px; align-items: flex-start; margin-bottom: 10px; }
    .qnum {
      min-width: 44px; height: 44px; line-height: 44px;
      text-align: center; border-radius: 10px;
      background: var(--accent); color: #000; font-weight: 700;
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2);
      flex-shrink: 0;
    }
    .qtext { flex: 1; font-size: 15px; font-weight: 500; line-height: 1.5; }

    .options { margin-top: 12px; padding-left: 8px; }
    label.opt {
      display: block;
      padding: 10px 14px;
      margin: 8px 0;
      border-radius: 8px;
      cursor: pointer;
      background: #1f1f1f;
      border: 1px solid rgba(255,215,0,0.08);
      transition: transform .12s ease, box-shadow .12s ease;
      user-select: none;
    }
    label.opt:hover { transform: translateY(-4px); box-shadow: 0 8px 22px rgba(0,0,0,0.6); border-color: var(--accent); }

    input[type="radio"] { margin-right: 12px; accent-color: var(--accent); }

    .controls { text-align: center; margin: 26px 0; }

    button.primary {
      background: var(--accent); color: #000; border: 0;
      padding: 12px 26px; font-size: 15px; border-radius: 10px;
      cursor: pointer; box-shadow: 0 10px 30px rgba(255,215,0,0.22);
      font-weight: 700;
    }
    button.primary:hover { transform: translateY(-3px); background: #ffea5a; }

    button.secondary {
      margin-left: 12px; padding: 10px 18px; border-radius: 10px;
      cursor: pointer; background: transparent; color: var(--muted);
      border: 1px solid rgba(255,255,255,0.06);
    }
    button.secondary:hover { color: var(--accent); border-color: var(--accent); }

    /* ====== RESULT STYLES (ONLY THIS AREA changed) ====== */
    #result {
      display: none;                 /* starts hidden; will be inline under controls */
      max-width: 900px;
      margin: 18px auto;
      padding: 20px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 12px 36px rgba(0,0,0,0.6);
      color: var(--text-light);
      transition: transform .28s cubic-bezier(.2,.9,.3,1), opacity .28s ease;
      backdrop-filter: blur(6px);
    }

    #result.show {
      display: block;
      transform: translateY(0);
      opacity: 1;
    }

    /* header row of result */
    #result .result-top {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    #result .score-badge {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    #result .score {
      font-size: 28px;
      font-weight: 800;
      color: var(--accent);
      letter-spacing: -0.6px;
    }

    #result .percent {
      font-size: 22px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(255,215,0,0.08);
      color: var(--accent);
    }

    /* progress bar */
    .result-progress {
      width: 100%;
      height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      margin-top: 12px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.02);
    }
    .result-progress .bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(255,215,0,0.95), rgba(255,215,0,0.6));
      transition: width 900ms cubic-bezier(.2,.9,.3,1);
      box-shadow: 0 6px 20px rgba(255,215,0,0.08);
    }

    .result-msg {
      margin-top: 12px;
      font-size: 15px;
      color: var(--muted);
    }

    .result-actions {
      margin-top: 14px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .wrong-list {
      margin-top: 14px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      padding: 12px;
      font-size: 14px;
      color: var(--text-light);
      border: 1px solid rgba(255,255,255,0.02);
    }
    .wrong-item {
      padding: 8px 6px;
      border-bottom: 1px dashed rgba(255,255,255,0.03);
    }
    .wrong-item:last-child { border-bottom: none; }

    /* colored captions depending on performance */
    #result.good .percent { background: rgba(0,200,83,0.08); color: var(--good); }
    #result.ok .percent { background: rgba(255,213,79,0.06); color: var(--ok); }
    #result.try .percent { background: rgba(255,82,82,0.06); color: var(--bad); }

    @media (max-width: 640px) {
      .qrow { flex-direction: column; }
      .qnum { width: 48px; height: 48px; line-height: 48px; }
      button.primary, button.secondary { width: 100%; margin: 6px 0; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Noobie's Pre-Exam | CBT Test</h1>
    <div class="meta">
  Calculus Objective Test — 70 Questions covering Differentiation & Integration (basic to advanced) • <strong>1 mark</strong> per correct answer
</div>
    <div class="meta">Total questions: <span id="totalQs">70</span></div>
  </header>

  <main id="quizContainer"></main>

  <div class="controls">
    <button class="primary" id="submitBtn" onclick="submitQuiz()">Submit Test</button>
    <button class="secondary" id="resetBtn" onclick="resetQuiz()">Reset Answers</button>
  </div>

  <!-- RESULT (inline below controls) -->
  <div id="result" aria-live="polite"></div>

  <div class="note" style="text-align:center; color:var(--muted); margin-top:12px;">
    This quiz covers MTH102
  </div>

  <footer style="text-align:center; color:var(--muted); font-size:13px; margin-top:28px;">
    <p>Mathematics | Calculus | Original Idea by Jafaar</p>
    <p style="margin-top:20px; font-size:14px; color:gray; text-align:center;">
  🔄 This quiz will be updated daily with Computer Science courses and general courses (Maths, Physics, GST) useful for everyone.
    </p>
    <p> Made By Emmanuel | Computer Science | 100lvl | CodeX </p>
  </footer>

  <script>
    // Your exact 70-question array (word-for-word as provided)
    const questions = [ { q: "Differentiate y = x²", options: ["2x", "x²", "x", "1"], answer: "2x" }, { q: "Differentiate y = 3x + 5", options: ["3", "5", "3x", "0"], answer: "3" }, { q: "Derivative of y = sin(x)", options: ["cos(x)", "-sin(x)", "-cos(x)", "tan(x)"], answer: "cos(x)" }, { q: "Derivative of y = cos(x)", options: ["-sin(x)", "cos(x)", "sin(x)", "sec²(x)"], answer: "-sin(x)" }, { q: "d/dx (e^x)", options: ["e^x", "1", "ln(x)", "0"], answer: "e^x" }, { q: "d/dx (ln x)", options: ["1/x", "ln(x)", "x", "0"], answer: "1/x" }, { q: "∫ 1 dx", options: ["x + C", "1 + C", "0", "C"], answer: "x + C" }, { q: "∫ x dx", options: ["x²/2 + C", "2x + C", "x + C", "ln x + C"], answer: "x²/2 + C" }, { q: "∫ e^x dx", options: ["e^x + C", "ln(x) + C", "x e^x", "1/e^x"], answer: "e^x + C" }, { q: "∫ cos(x) dx", options: ["sin(x) + C", "-cos(x) + C", "-sin(x) + C", "tan(x) + C"], answer: "sin(x) + C" }, { q: "∫ sin(x) dx", options: ["-cos(x) + C", "cos(x) + C", "tan(x) + C", "sec(x) + C"], answer: "-cos(x) + C" }, { q: "Derivative of y = tan(x)", options: ["sec²(x)", "cos²(x)", "csc²(x)", "cot(x)"], answer: "sec²(x)" }, { q: "∫ 1/x dx", options: ["ln|x| + C", "x²/2 + C", "1/x² + C", "x ln x"], answer: "ln|x| + C" }, { q: "Derivative of constant 7", options: ["0", "1", "7", "None"], answer: "0" }, { q: "∫ 0 dx", options: ["C", "0", "x", "1"], answer: "C" }, { q: "Differentiate y = 5x³", options: ["15x²", "5x²", "3x²", "x³"], answer: "15x²" }, { q: "∫ 3 dx", options: ["3x + C", "x³ + C", "ln 3 + C", "C"], answer: "3x + C" }, { q: "Differentiate y = √x", options: ["1/(2√x)", "2√x", "√x", "1/x"], answer: "1/(2√x)" }, { q: "∫ √x dx", options: ["2/3 x^(3/2) + C", "√x + C", "ln x + C", "1/(2√x) + C"], answer: "2/3 x^(3/2) + C" }, { q: "Derivative of y = x^5", options: ["5x^4", "x^4", "x^5", "6x^5"], answer: "5x^4" },

{ q: "Using product rule, d/dx [x e^x]", options: ["e^x + x e^x", "x e^x", "e^x", "x"], answer: "e^x + x e^x" }, { q: "Using quotient rule, d/dx [(x²+1)/x]", options: ["1 - 1/x²", "2x/x - (x²+1)/x²", "1 - 1/x", "2 - 1/x²"], answer: "1 - 1/x²" }, { q: "d/dx [arcsin(x)]", options: ["1/√(1-x²)", "-1/√(1-x²)", "√(1-x²)", "None"], answer: "1/√(1-x²)" }, { q: "d/dx [arctan(x)]", options: ["1/(1+x²)", "1/x²", "arctan(x)", "ln(1+x²)"], answer: "1/(1+x²)" }, { q: "∫ sec²(x) dx", options: ["tan(x) + C", "sec(x) + C", "-csc(x) + C", "cot(x) + C"], answer: "tan(x) + C" }, { q: "∫ csc²(x) dx", options: ["-cot(x) + C", "cot(x) + C", "tan(x) + C", "None"], answer: "-cot(x) + C" }, { q: "∫ 1/(1+x²) dx", options: ["arctan(x) + C", "ln|x| + C", "arcsin(x) + C", "√(1+x²) + C"], answer: "arctan(x) + C" }, { q: "d/dx [ln(sin x)]", options: ["cot(x)", "1/sin(x)", "tan(x)", "sec(x)"], answer: "cot(x)" }, { q: "∫ (2x)(cos(x²)) dx", options: ["sin(x²) + C", "cos²(x) + C", "2cos(x²) + C", "tan(x²) + C"], answer: "sin(x²) + C" }, { q: "∫ (3x²)(e^(x³)) dx", options: ["e^(x³) + C", "3e^(x³) + C", "x³e^(x³)", "ln(x³) + C"], answer: "e^(x³) + C" }, { q: "d/dx [x³ ln(x)]", options: ["3x² ln(x) + x²", "ln(x³)", "3x²/x", "None"], answer: "3x² ln(x) + x²" }, { q: "∫ x·cos(x²) dx", options: ["½ sin(x²) + C", "sin(x²) + C", "cos²(x) + C", "None"], answer: "½ sin(x²) + C" }, { q: "∫ (2x)/(1+x²) dx", options: ["ln(1+x²) + C", "arctan(x) + C", "x² + C", "e^(x²) + C"], answer: "ln(1+x²) + C" }, { q: "∫ e^(2x) dx", options: ["(1/2)e^(2x) + C", "2e^(2x) + C", "e^(x²) + C", "None"], answer: "(1/2)e^(2x) + C" }, { q: "d/dx [arcsin(2x)]", options: ["2/√(1-4x²)", "1/√(1-2x²)", "2/√(1-x²)", "None"], answer: "2/√(1-4x²)" }, { q: "∫ 1/√(1-x²) dx", options: ["arcsin(x) + C", "arctan(x) + C", "ln(x) + C", "√(1-x²) + C"], answer: "arcsin(x) + C" }, { q: "∫ 2x e^(x²) dx", options: ["e^(x²) + C", "2e^(x²) + C", "ln(x²)", "None"], answer: "e^(x²) + C" }, { q: "∫ cos²(x) dx", options: ["(x/2)+(sin2x)/4 + C", "sin²(x)+C", "tan(x)+C", "None"], answer: "(x/2)+(sin2x)/4 + C" }, { q: "∫ sin²(x) dx", options: ["(x/2)-(sin2x)/4 + C", "cos²(x)+C", "-cos(x)+C", "None"], answer: "(x/2)-(sin2x)/4 + C" }, { q: "d/dx [tan⁻¹(2x)]", options: ["2/(1+4x²)", "1/(1+x²)", "2x/(1+x²)", "None"], answer: "2/(1+4x²)" }, { q: "∫ sinh(x) dx", options: ["cosh(x) + C", "sinh(x) + C", "-cosh(x) + C", "None"], answer: "cosh(x) + C" }, { q: "d/dx [cosh(x)]", options: ["sinh(x)", "cosh(x)", "-sinh(x)", "None"], answer: "sinh(x)" }, { q: "∫ 1/(x²+4) dx", options: ["(1/2)arctan(x/2)+C", "arctan(x)+C", "ln(x²+4)+C", "None"], answer: "(1/2)arctan(x/2)+C" }, { q: "d/dx [x^x]", options: ["x^x(1+ln(x))", "x^(x-1)", "ln(x)", "None"], answer: "x^x(1+ln(x))" }, { q: "∫ 1/√(4-x²) dx", options: ["arcsin(x/2)+C", "arctan(x/2)+C", "ln(x)+C", "None"], answer: "arcsin(x/2)+C" }, { q: "d/dx [e^(sin x)]", options: ["e^(sin x) cos x", "e^(cos x) sin x", "cos x", "None"], answer: "e^(sin x) cos x" }, { q: "∫ xe^(x²) dx", options: ["½e^(x²)+C", "e^(x²)+C", "x²e^(x²)+C", "None"], answer: "½e^(x²)+C" }, { q: "d/dx [ln(x²+1)]", options: ["2x/(x²+1)", "1/(x²+1)", "ln(x²)", "None"], answer: "2x/(x²+1)" }, { q: "∫ dx/(x√(x²-1))", options: ["arcsec(x)+C", "arcsin(x)+C", "arccos(x)+C", "None"], answer: "arcsec(x)+C" }, { q: "d/dx [√(1+x²)]", options: ["x/√(1+x²)", "√(1+x²)", "1/√(1+x²)", "None"], answer: "x/√(1+x²)" }, { q: "∫ sec(x)tan(x) dx", options: ["sec(x)+C", "tan(x)+C", "cot(x)+C", "None"], answer: "sec(x)+C" }, { q: "∫ csc(x)cot(x) dx", options: ["-csc(x)+C", "csc(x)+C", "cot(x)+C", "None"], answer: "-csc(x)+C" }, { q: "d/dx [ln(1+e^x)]", options: ["e^x/(1+e^x)", "ln(e^x)", "1/(1+e^x)", "None"], answer: "e^x/(1+e^x)" }, { q: "∫ dx/(1+cos x)", options: ["tan(x/2)+C", "cot(x/2)+C", "sec(x)+C", "None"], answer: "tan(x/2)+C" }, { q: "∫ dx/(1+sin x)", options: ["(tan(x/2)+C)", "cot(x/2)+C", "csc(x)+C", "None"], answer: "cot(x/2)+C" }, { q: "d/dx [tan⁻¹(√x)]", options: ["1/(2√x(1+x))", "1/(1+x)", "1/√(1+x²)", "None"], answer: "1/(2√x(1+x))" },

{ q: "∫ e^(x) cos(x) dx", options: ["½ e^x(sin x + cos x) + C", "e^x cos(x)+C", "e^x sin(x)+C", "None"], answer: "½ e^x(sin x + cos x) + C" }, { q: "∫ e^(x) sin(x) dx", options: ["½ e^x(sin x - cos x)+C", "e^x sin(x)+C", "e^x cos(x)+C", "None"], answer: "½ e^x(sin x - cos x)+C" }, { q: "∫ ln(x) dx", options: ["x ln(x) - x + C", "ln²(x)/2 + C", "1/x + C", "None"], answer: "x ln(x) - x + C" }, { q: "∫ x² e^(x) dx", options: ["(x²-2x+2)e^x + C", "x² e^x + C", "2xe^x + C", "None"], answer: "(x²-2x+2)e^x + C" }, { q: "∫ sin³(x) dx", options: ["-cos(x)+(1/3)cos³(x)+C", "cos³(x)+C", "-cos³(x)+C", "None"], answer: "-cos(x)+(1/3)cos³(x)+C" }, { q: "∫ cos³(x) dx", options: ["sin(x)-(1/3)sin³(x)+C", "sin³(x)+C", "cos²(x)+C", "None"], answer: "sin(x)-(1/3)sin³(x)+C" }, { q: "∫ x² ln(x) dx", options: ["(x³/3)ln(x)-(x³/9)+C", "ln(x³)+C", "x² ln(x)+C", "None"], answer: "(x³/3)ln(x)-(x³/9)+C" }, { q: "d/dx [x^(sin x)]", options: ["x^(sin x)(cos x ln x + sin x/x)", "x^(sin x) cos x", "x^x ln x", "None"], answer: "x^(sin x)(cos x ln x + sin x/x)" }, { q: "∫ dx/(x²√(x²-1))", options: ["arcsec(x)+C", "arcsin(x)+C", "arctan(x)+C", "None"], answer: "arcsec(x)+C" }, { q: "∫ (tan⁻¹ x)/x² dx", options: ["-tan⁻¹(x)/x + (1/2)ln(1+x²)+C", "tan⁻¹(x)+C", "ln(1+x²)+C", "None"], answer: "-tan⁻¹(x)/x + (1/2)ln(1+x²)+C" } ];

    // Build UI
  const container = document.getElementById('quizContainer');
  document.getElementById('totalQs').textContent = questions.length;

  // render questions
  questions.forEach((item, idx) => {
    const card = document.createElement('article');
    card.className = 'quiz-card';

    const qrow = document.createElement('div');
    qrow.className = 'qrow';

    const qnum = document.createElement('div');
    qnum.className = 'qnum';
    qnum.textContent = idx + 1;

    const qtext = document.createElement('div');
    qtext.className = 'qtext';
    qtext.innerHTML = `<strong>Q${idx + 1}:</strong> ${item.q}`;

    qrow.appendChild(qnum);
    qrow.appendChild(qtext);
    card.appendChild(qrow);

    const opts = document.createElement('div');
    opts.className = 'options';
    item.options.forEach((opt, optIdx) => {
      const id = `q${idx}_opt${optIdx}`;
      const label = document.createElement('label');
      label.className = 'opt';
      label.innerHTML = `<input type="radio" name="q${idx}" id="${id}" value="${escapeHtml(opt)}"> ${escapeHtml(opt)}`;
      opts.appendChild(label);
    });

    card.appendChild(opts);
    container.appendChild(card);
  });

  // scoring and result rendering
  function submitQuiz() {
    const total = questions.length;
    let score = 0;
    let answered = 0;
    let incorrectList = [];

    questions.forEach((q, i) => {
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      if (sel) answered++;
      if (sel && sel.value === q.answer) {
        score++;
      } else {
        const given = sel ? sel.value : null;
        incorrectList.push({
          qn: i + 1,
          given: given,
          correct: q.answer
        });
      }
    });

    const percent = Number(((score / total) * 100).toFixed(2));
    const box = document.getElementById('result');

    // reset classes
    box.className = '';

    if (percent >= 80) box.classList.add('good');
    else if (percent >= 50) box.classList.add('ok');
    else box.classList.add('try');

    const performanceText =
      percent >= 80 ? 'Excellent work! You have a strong understanding.' :
      percent >= 50 ? 'Good effort! Review the topics you missed.' :
      'Keep studying! Use this as a learning opportunity.';

    const percentLabel = `${percent}%`;
    const scoreLabel = `${score} / ${total}`;

    let html = `
      <div class="result-top">
        <div class="score-badge">
          <div>
            <div class="score">${scoreLabel}</div>
            <div style="font-size:13px; color:var(--muted);">Answered: ${answered} of ${total}</div>
          </div>
        </div>
        <div style="text-align:right;">
          <div style="font-size:13px; color:var(--muted);">Performance</div>
          <div class="percent">${percentLabel}</div>
        </div>
      </div>

      <div class="result-progress" aria-hidden="true">
        <div class="bar" id="resultBar" style="width:0%"></div>
      </div>

      <div class="result-msg">${escapeHtml(performanceText)}</div>

      <div class="result-actions">
        <button class="primary" onclick="retakeQuiz()">Retake Quiz</button>
        <button class="secondary" onclick="scrollToTop()">Review Answers</button>
      </div>
    `;

    if (incorrectList.length > 0) {
      html += `<div class="wrong-list">
                <div style="font-weight:700; margin-bottom:8px; color:var(--muted);">
                  Incorrect/Unanswered Questions (${incorrectList.length}):
                </div>
                ${incorrectList.map(it => {
                  const givenText = it.given ? `Your answer: "${escapeHtml(it.given)}"` : 'Not answered';
                  return `<div class="wrong-item"><strong>Q${it.qn}</strong> — ${givenText} • Correct: "${escapeHtml(it.correct)}"</div>`;
                }).join('')}
              </div>`;
    }

    box.innerHTML = html;
    box.style.display = 'block';

    requestAnimationFrame(() => {
      const bar = document.getElementById('resultBar');
      if (bar) bar.style.width = percent + '%';
    });

    box.scrollIntoView({ behavior: 'smooth', block: 'start' });

    // disable submit until retake
    const submitBtn = document.getElementById('submit');
    if (submitBtn) submitBtn.disabled = true;
  }

  function resetQuiz() {
    if (!confirm('Reset all selected answers?')) return;
    document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);
    const r = document.getElementById('result');
    r.style.display = 'none';
    r.className = '';
    r.innerHTML = '';
  }

  function retakeQuiz() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
    document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);

    const r = document.getElementById('result');
    r.className = '';
    r.innerHTML = '';
    r.style.display = 'none';

    // re-enable submit
    const submitBtn = document.getElementById('submit');
    if (submitBtn) submitBtn.disabled = false;
  }

  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // utility to escape HTML
  function escapeHtml(s) {
    if (s === null || s === undefined) return '';
    return String(s)
      .replaceAll('&', '&amp;')
      .replaceAll('<', '&lt;')
      .replaceAll('>', '&gt;')
      .replaceAll('"', '&quot;');
  }
</script>
</body>

</html>
